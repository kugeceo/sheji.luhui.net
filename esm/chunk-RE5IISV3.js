import{A as qe,C as Bo,F as ye,G as Je,H as F,J as Qe,L as Oo,M as Ze,N as ko,O as eo,P as oo,Q as Uo,S as xe,a,b as To,c as N,e as Ie,g as Xe,l as q,m as x,n as Ke,o as yo,p as xo,q as f,t as s,v as Eo,w as Ao,y as ae}from"./chunk-7XPMQ2NQ.js";import{Ka as Te,Na as y,Sa as S,Wa as B,Xa as Io,a as ge,b as vo,c as ve,n as So,s as Se,t as D}from"./chunk-2FC7YEBB.js";var Qo=ge((fa,Jo)=>{"use strict";var En=false;var qo=function(){};if(En){Ko=function e(t,r){var n=arguments.length;r=new Array(n>1?n-1:0);for(var o=1;o<n;o++){r[o-1]=arguments[o]}var i=0;var m="Warning: "+t.replace(/%s/g,function(){return r[i++]});if(typeof console!=="undefined"){console.error(m)}try{throw new Error(m)}catch(d){}};qo=function(e,t,r){var n=arguments.length;r=new Array(n>2?n-2:0);for(var o=2;o<n;o++){r[o-2]=arguments[o]}if(t===void 0){throw new Error("`warning(condition, format, ...args)` requires a warning message argument")}if(!e){Ko.apply(null,[t].concat(r))}}}var Ko;Jo.exports=qo});var nt=ge((wa,rt)=>{"use strict";var Nn="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";rt.exports=Nn});var lt=ge((Na,at)=>{"use strict";var _n=nt();function it(){}function st(){}st.resetWarningCache=it;at.exports=function(){function e(n,o,i,m,d,p){if(p===_n){return}var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");u.name="Invariant Violation";throw u};e.isRequired=e;function t(){return e};var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:st,resetWarningCache:it};r.PropTypes=r;return r}});var dt=ge((Ra,mt)=>{if(false){_a=null;Pa=true;mt.exports=null(_a.isElement,Pa)}else{mt.exports=lt()()}var _a;var Pa});import je from"react";import{ThemeProvider as Ni}from"styled-components";import qr from"react";import Gr from"react";import jr from"styled-components";var Yr=jr(q)`
  width: ${e=>e.theme.measurements.advancedUICard.large.width}px;
  height: ${e=>e.theme.measurements.advancedUICard.large.height}px;
  margin-bottom: ${e=>e.theme.measurements.advancedUISpacer}px;
  color: ${e=>e.theme.card.foreground};
`;var Vr=({isActive:e,...t})=>{return Gr.createElement(Yr,{...t})};var Fo=Vr;import Xr from"styled-components";var Do=Xr(q)`
  width: ${e=>e.theme.measurements.advancedUICard.medium.width}px;
  height: ${e=>e.theme.measurements.advancedUICard.medium.height}px;
  margin-bottom: ${e=>e.theme.measurements.advancedUISpacer}px;
  color: ${e=>e.theme.card.foreground};
  &:nth-child(2n + 1) {
    margin-right: ${e=>e.theme.measurements.advancedUISpacer}px;
  }
`;import Kr from"styled-components";var Lo=Kr(q)`
  width: ${e=>e.theme.measurements.advancedUICard.small.width}px;
  height: ${e=>e.theme.measurements.advancedUICard.small.height}px;
  margin-bottom: ${e=>e.theme.measurements.advancedUISpacer}px;
  color: ${e=>e.theme.card.foreground};
  &:nth-child(3n + 1),
  &:nth-child(3n + 2) {
    margin-right: ${e=>e.theme.measurements.advancedUISpacer}px;
  }
`;var le=({type:e,...t})=>{const r=e==="large";const n=e==="small";let o=Do;if(r){o=Fo}else if(n){o=Lo}return qr.createElement(o,{type:e,...t})};import Jr from"styled-components";var Ee=Jr.div.attrs(e=>({"data-test":e["data-test"]||S.CardContainer}))`
  display: flex;
  flex-wrap: wrap;
  /* width - padding on both sides */
  width: ${e=>e.theme.measurements.advancedUIToolControlBar.width-48}px;
`;import Qr from"react";import Zr,{css as wo}from"styled-components";var en=Zr.div`
  display: flex;
  flex-direction: column;
  flex-shrink: 0;

  position: relative;
  width: ${e=>e.theme.measurements.advancedUIToolControlBar.width}px;
  /* for Firefox */
  min-height: 0;
  margin-bottom: ${e=>e.theme.measurements.advancedUIToolControlBar.marginBottom}px;

  z-index: ${e=>e.theme.measurements.zIndex.toolControlBar};

  background: ${e=>e.theme.toolControlBar.background};
  transition: width 0.4s ease-in;
  ${e=>!e.reverse?wo`
          border-right: 1px solid ${e.theme.toolControlBar.borderColor};
        `:wo`
          border-left: 1px solid ${e.theme.toolControlBar.borderColor};
        `}
`;var No=({reverse:e=false,style:t,className:r,children:n})=>Qr.createElement(en,{"data-test":S.ToolControlBar,reverse:e,className:r,style:t},n);import on,{css as to}from"styled-components";var _o=on.div.attrs(()=>({"data-test":S.CategoryItemsContainer}))`
  transition: max-height 0.8s ease-out, transform 0.8s ease-out;
  background: ${e=>e.theme.toolControlBar.background};
  visibility: hidden;
  opacity: 0;
  transform-origin: 0 0;
  display: none;
  flex-wrap: wrap;

  ${({show:e})=>e&&to`
      opacity: 1;
      visibility: visible;
      ${D()?to`
            display: block;
          `:to`
            display: flex;
          `}
    `}
`;import Po from"react";import Ro from"styled-components";var tn=Ro(yo)`
  color: ${e=>e.theme.toolControlBar.inputLabelForeground};

  /* the padding and margin should only be applied to the children */
  margin: 0 !important;
  padding: 0 !important;
`;var rn=Ro.div`
  display: flex;
  flex-direction: column;

  > * {
    margin-left: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingLeft}px;
    margin-right: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingRight}px;
    margin-bottom: ${e=>e.theme.measurements.advancedUIToolControlBar.controls.gutter}px;
  }
`;var $o=({show:e,children:t})=>{return Po.createElement(tn,{duration:300,height:e?"auto":0,easing:"ease-in-out",animateOpacity:true},Po.createElement(rn,{"data-test":S.ToolControlBarExpandableControls},t))};import nn,{css as sn}from"styled-components";var me=nn(Ie)`
  position: relative;

  box-sizing: border-box;

  /* for Firefox */
  min-height: 0;

  transition: height 0.4s cubic-bezier(0.17, 0.04, 0.03, 0.94);
  color: ${e=>e.theme.toolControlBar.inputLabelForeground};

  /* compensate the padding in IE and Edge */
  ${()=>{if(D()||Se()){return sn`
        > ul {
          padding-right: 34px;
          margin-right: -34px;
        }
      `}return""}}
`;me.defaultProps={direction:"vertical"};import an,{css as ln}from"styled-components";var mn=an.div`
  position: relative;
  &:after {
    content: '';
    position: absolute;
    bottom: 0px;
    ${e=>e.full?ln`
            left: -${3*e.theme.measurements.advancedUISpacer/2}px;
            width: calc(
              100% + ${3*e.theme.measurements.advancedUISpacer}px
            );
          `:`
      left: ${3*e.theme.measurements.advancedUISpacer/2}px;
      width: calc(100% - ${3*e.theme.measurements.advancedUISpacer}px);
    `}
    border-bottom: 2px solid ${e=>e.theme.toolControlBar.separatorColor};
  }
`;var Ae=mn;import dn from"styled-components";var pn=dn.h2`
  color: ${e=>e.theme.toolControlBar.titleForeground};
  font-size: ${e=>e.theme.measurements.fontSystem.headline2.size}px;
  letter-spacing: ${e=>e.theme.measurements.fontSystem.headline2.letterSpacing}px;
  text-transform: ${e=>e.theme.measurements.fontSystem.headline2.case};
  font-weight: 500;
  min-height: ${e=>2*e.theme.measurements.advancedUISpacer}px;
  margin-top: 0;
`;var Be=pn;import P from"react";import cn from"styled-components";var un=cn.div`
  display: flex;
  flex-direction: column;
  position: relative;
  width: 100%;
  flex: 1 0 auto;
`;var Ho=({name:e,isFirstCategory:t,isLastCategory:r,children:n})=>{return P.createElement(un,null,!t&&P.createElement(f.Spacer,{count:2}),P.createElement(Be,{"data-test":e},e),P.createElement(Ee,{"data-test":S.CategoryItemsContainer},n),!r&&P.createElement(P.Fragment,null,P.createElement(f.Spacer,{count:2}),P.createElement(Ae,{full:true})))};import fn from"styled-components";var Cn=fn.h1`
  /* Center text horizontally and vertically */
  display: flex;
  align-items: center;
  justify-content: center;
  flex-grow: 0;
  padding: 0 4px;
  margin: 0;
  min-height: ${e=>e.theme.measurements.mainCanvasActionBar.height-2}px;
  font-size: ${e=>e.theme.measurements.fontSystem.headline1.size}px;
  letter-spacing: ${e=>e.theme.measurements.fontSystem.headline1.letterSpacing}px;
  text-transform: ${e=>e.theme.measurements.fontSystem.headline1.case};
  background: ${e=>e.theme.toolControlBar.background};
  color: ${e=>e.theme.toolControlBar.titleForeground};
  border-bottom: 1px solid ${e=>e.theme.toolControlBar.separatorColor};
  font-weight: 500;
  text-align: center;
  /* prevent the padding from leaving the width of the parent  */
  box-sizing: border-box;
`;var Mo=Cn;import hn from"react";import bn from"styled-components";var gn=bn.div`
  display: flex;
  flex: 1 0 auto;
  flex-direction: column;

  overflow-y: auto;
  overflow-x: hidden;

  /* calculate the max-height based on the padding and if the heading is used */
  max-height: calc(
    100% -
      ${e=>e.theme.measurements.advancedUIToolControlBar.paddingBottom+e.theme.measurements.advancedUIToolControlBar.paddingTop}px -
      ${e=>e.displayTitle?e.theme.measurements.mainCanvasActionBar.height-2:"0"}px
  );

  padding-top: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingTop}px;
  padding-bottom: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingBottom}px;

  > * {
    margin-left: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingLeft}px;
    margin-right: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingRight}px;
  }

  /* The scrollable content needs a padding for the scrollbar position */
  > ${me} {
    margin-left: 0px;
    margin-right: 0px;
    padding-left: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingLeft}px;
    padding-right: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingRight}px;
  }

  > :not(:last-child) {
    margin-bottom: ${e=>e.theme.measurements.advancedUIToolControlBar.controls.gutter}px;
  }
`;var Wo=({children:e})=>{const{config:t}=s();const r=t.config.displayToolControlBarTitle;return hn.createElement(gn,{displayTitle:r},e)};import zo from"react";import vn,{css as ro}from"styled-components";var Sn=vn.div`
  display: flex;
  flex: 1 0 auto;
  flex-direction: column;
  align-items: center;
  height: 100%;
  width: ${e=>e.theme.measurements.advancedUIToolbar.width}px;

  z-index: ${e=>e.theme.measurements.zIndex.toolbar};

  background-color: ${e=>e.theme.toolbar.background};
  color: ${e=>e.theme.toolbar.foreground};
  ${e=>{const t=e.theme.toolbar.border?e.theme.toolbar.border:ro`
          1px solid ${e.theme.toolbar.borderColor};
        `;return!e.reverse?ro`
          border-right: ${t};
        `:ro`
          border-left: ${t};
        `}}
  margin-bottom: ${e=>e.theme.measurements.advancedUIToolbar.marginBottom}px;
`;var Go=({reverse:e,style:t,className:r,children:n})=>{return zo.createElement(Sn,{reverse:e,"data-test":S.Toolbar,className:r,style:t},zo.createElement(Ie,{direction:"vertical"},n))};import jo from"react";import Yo,{css as no}from"styled-components";var Tn=Yo(Xe)`
  width: inherit;
  height: inherit;
  padding: 0;
  margin: 0;
  ${D()?no`
        background-color: transparent;
      `:no`
        background-color: inherit;
      `}

  ${e=>e.isActive&&no`
      background-color: ${e.theme.toolbar.activeBackground};
      color: ${e.theme.toolbar.activeForeground};

      svg {
        color: ${e.theme.toolbar.activeForeground};
      }
    `}
`;var In=Yo.li.attrs({"aria-haspopup":true,"aria-hidden":true,role:"menuitem"})`
  height: ${e=>e.theme.measurements.advancedUIToolbar.itemHeight}px;
  cursor: pointer;
  position: relative;
`;var Vo=e=>jo.createElement(In,null,jo.createElement(Tn,{...e,"data-test":S.ToolbarItem}));import yn from"styled-components";var xn=yn.li.attrs({role:"none"})`
  height: ${e=>e.theme.measurements.advancedUIToolbar.separatorHeight}px;
  cursor: pointer;
  position: relative;
`;var Xo=xn;import ke,{useRef as $n}from"react";import{useRef as ot,createElement as Dn}from"react";var Un=vo(Qo());import*as Ca from"react";import{useLayoutEffect as An,useEffect as Bn,isValidElement as ba,cloneElement as ga,createContext as va,forwardRef as Sa,memo as Ta,useRef as Ia,useState as On,useCallback as kn,useMemo as ya}from"react";var Zo=Fn()?An:Bn;if(false){xa=typeof process!=="undefined"?process:{env:{NODE_ENV:"development"}},Ea=xa.env;checkStyles=function e(t){if(checkedPkgs[t])return;checkedPkgs[t]=true;if(Ea.NODE_ENV!=="test"&&parseInt(window.getComputedStyle(document.body).getPropertyValue("--reach-"+t),10)!==1){console.warn("@reach/"+t+' styles not found. If you are using a bundler like webpack or parcel include this in the entry file of your app before any of your own styles:\n\n    import "@reach/'+t+`/styles.css";

  Otherwise you'll need to include them some other way:

    <link rel="stylesheet" type="text/css" href="node_modules/@reach/`+t+'/styles.css" />\n\n  For more information visit https://ui.reach.tech/styling.\n  ')}}}var xa;var Ea;var Aa=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();function Fn(){return!!(typeof window!=="undefined"&&window.document&&window.document.createElement)}if(false){useControlledSwitchWarning=function e(t,r,n){var o=Ia(t!=null);var i=Ia({componentName:n,controlledPropName:r});Bn(function(){i.current={componentName:n,controlledPropName:r}},[n,r]);Bn(function(){var m=o.current;var d=i.current,p=d.componentName,u=d.controlledPropName;var g=t!=null;if(m!==g){console.error("A component is changing an "+(m?"":"un")+"controlled `"+u+"` state of "+p+" to be "+(m?"un":"")+"controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled "+p+" element for the lifetime of the component.\nMore info: https://fb.me/react-controlled-components")}},[t])}}if(false){useCheckStyles=function e(t){var r=Ia(t);Bn(function(){return void(r.current=t)},[t]);Bn(function(){return checkStyles(r.current)},[])}}function et(){var e=On(Object.create(null)),t=e[1];return kn(function(){t(Object.create(null))},[])}if(false){useStateLogger=function e(t,r){if(r===void 0){r=false}var n=Ia(r);Bn(function(){n.current=r},[r]);Bn(function(){if(n.current){console.group("State Updated");console.log("%c"+t,"font-weight: normal; font-size: 120%; font-style: italic;");console.groupEnd()}},[t])}}import{createPortal as Ln}from"react-dom";var wn=function e(t){var r=t.children,n=t.type,o=n===void 0?"reach-portal":n;var i=ot(null);var m=ot(null);var d=et();Zo(function(){if(!i.current)return;var p=i.current.ownerDocument;m.current=p===null||p===void 0?void 0:p.createElement(o);p.body.appendChild(m.current);d();return function(){if(m.current&&m.current.ownerDocument){m.current.ownerDocument.body.removeChild(m.current)}}},[o,d]);return m.current?Ln(r,m.current):Dn("span",{ref:i})};if(false){wn.displayName="Portal"}var tt=wn;function io(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var o,i;for(i=0;i<n.length;i++){o=n[i];if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function so(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var Rn=vo(dt());import Oe from"react";import mo from"react-dom";var ao={disabled:false};import Pn from"react";var lo=Pn.createContext(null);var de="unmounted";var H="exited";var M="entering";var Q="entered";var po="exiting";var w=function(e){so(t,e);function t(n,o){var i;i=e.call(this,n,o)||this;var m=o;var d=m&&!m.isMounting?n.enter:n.appear;var p;i.appearStatus=null;if(n.in){if(d){p=H;i.appearStatus=M}else{p=Q}}else{if(n.unmountOnExit||n.mountOnEnter){p=de}else{p=H}}i.state={status:p};i.nextCallback=null;return i}t.getDerivedStateFromProps=function n(o,i){var m=o.in;if(m&&i.status===de){return{status:H}}return null};var r=t.prototype;r.componentDidMount=function n(){this.updateStatus(true,this.appearStatus)};r.componentDidUpdate=function n(o){var i=null;if(o!==this.props){var m=this.state.status;if(this.props.in){if(m!==M&&m!==Q){i=M}}else{if(m===M||m===Q){i=po}}}this.updateStatus(false,i)};r.componentWillUnmount=function n(){this.cancelNextCallback()};r.getTimeouts=function n(){var o=this.props.timeout;var i,m,d;i=m=d=o;if(o!=null&&typeof o!=="number"){i=o.exit;m=o.enter;d=o.appear!==void 0?o.appear:m}return{exit:i,enter:m,appear:d}};r.updateStatus=function n(o,i){if(o===void 0){o=false}if(i!==null){this.cancelNextCallback();if(i===M){this.performEnter(o)}else{this.performExit()}}else if(this.props.unmountOnExit&&this.state.status===H){this.setState({status:de})}};r.performEnter=function n(o){var i=this;var m=this.props.enter;var d=this.context?this.context.isMounting:o;var p=this.props.nodeRef?[d]:[mo.findDOMNode(this),d],u=p[0],g=p[1];var C=this.getTimeouts();var h=d?C.appear:C.enter;if(!o&&!m||ao.disabled){this.safeSetState({status:Q},function(){i.props.onEntered(u)});return}this.props.onEnter(u,g);this.safeSetState({status:M},function(){i.props.onEntering(u,g);i.onTransitionEnd(h,function(){i.safeSetState({status:Q},function(){i.props.onEntered(u,g)})})})};r.performExit=function n(){var o=this;var i=this.props.exit;var m=this.getTimeouts();var d=this.props.nodeRef?void 0:mo.findDOMNode(this);if(!i||ao.disabled){this.safeSetState({status:H},function(){o.props.onExited(d)});return}this.props.onExit(d);this.safeSetState({status:po},function(){o.props.onExiting(d);o.onTransitionEnd(m.exit,function(){o.safeSetState({status:H},function(){o.props.onExited(d)})})})};r.cancelNextCallback=function n(){if(this.nextCallback!==null){this.nextCallback.cancel();this.nextCallback=null}};r.safeSetState=function n(o,i){i=this.setNextCallback(i);this.setState(o,i)};r.setNextCallback=function n(o){var i=this;var m=true;this.nextCallback=function(d){if(m){m=false;i.nextCallback=null;o(d)}};this.nextCallback.cancel=function(){m=false};return this.nextCallback};r.onTransitionEnd=function n(o,i){this.setNextCallback(i);var m=this.props.nodeRef?this.props.nodeRef.current:mo.findDOMNode(this);var d=o==null&&!this.props.addEndListener;if(!m||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[m,this.nextCallback],u=p[0],g=p[1];this.props.addEndListener(u,g)}if(o!=null){setTimeout(this.nextCallback,o)}};r.render=function n(){var o=this.state.status;if(o===de){return null}var i=this.props,m=i.children,d=i.in,p=i.mountOnEnter,u=i.unmountOnExit,g=i.appear,C=i.enter,h=i.exit,c=i.timeout,v=i.addEndListener,E=i.onEnter,V=i.onEntering,X=i.onEntered,ie=i.onExit,K=i.onExiting,se=i.onExited,he=i.nodeRef,be=io(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Oe.createElement(lo.Provider,{value:null},typeof m==="function"?m(o,be):Oe.cloneElement(Oe.Children.only(m),be))};return t}(Oe.Component);w.contextType=lo;w.propTypes=false?{nodeRef:Rn.default.shape({current:typeof Element==="undefined"?Rn.default.any:Rn.default.instanceOf(Element)}),children:Rn.default.oneOfType([Rn.default.func.isRequired,Rn.default.element.isRequired]).isRequired,in:Rn.default.bool,mountOnEnter:Rn.default.bool,unmountOnExit:Rn.default.bool,appear:Rn.default.bool,enter:Rn.default.bool,exit:Rn.default.bool,timeout:function e(t){var r=timeoutsShape;if(!t.addEndListener)r=r.isRequired;for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++){o[i-1]=arguments[i]}return r.apply(void 0,[t].concat(o))},addEndListener:Rn.default.func,onEnter:Rn.default.func,onEntering:Rn.default.func,onEntered:Rn.default.func,onExit:Rn.default.func,onExiting:Rn.default.func,onExited:Rn.default.func}:{};function J(){}w.defaultProps={in:false,mountOnEnter:false,unmountOnExit:false,appear:false,enter:true,exit:true,onEnter:J,onEntering:J,onEntered:J,onExit:J,onExiting:J,onExited:J};w.UNMOUNTED=de;w.EXITED=H;w.ENTERING=M;w.ENTERED=Q;w.EXITING=po;var co=w;import pt,{css as uo}from"styled-components";var Hn=pt.div`
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* added line-height reset from appContainer */
  font-family: '${e=>e.theme.typography.fontFamily}', sans-serif;

  ${D()?uo`
        position: -ms-device-fixed;
      `:uo`
        position: fixed;
      `}
  top: ${e=>e.position.y-5}px;
  transition: opacity 0.5s ease-in-out, left 0.25s ease-in-out,
    right 0.25s ease-in-out;
  z-index: ${e=>e.theme.measurements.zIndex.toolbar};
  pointer-events: none;
  cursor: pointer;

  &:before {
    content: ' ';
    position: absolute;
    top: 10px;
    left: -8px;
    width: 0;
    height: 0;
    border-right: 8px solid ${e=>e.theme.tooltip.background};
    border-bottom: 6px solid transparent;
    border-top: 6px solid transparent;
  }

  &:after {
    content: '${e=>e.label}';
    position: absolute;
    color: ${e=>e.theme.tooltip.foreground};
    background: ${e=>e.theme.tooltip.background};
    padding: 8px 12px;
    text-align: center;
    vertical-align: super;
    font-size: ${e=>e.theme.measurements.fontSystem.label.size}px;
    letter-spacing: ${e=>e.theme.measurements.fontSystem.label.letterSpacing}px;
    text-transform: ${e=>e.theme.measurements.fontSystem.label.case};
    border-radius: ${e=>e.theme.shape.radiusSmall}px;
    white-space: nowrap;
  }

  ${e=>e.reverse&&uo`
      direction: rtl;

      &:before {
        border-left: 8px solid ${e.theme.tooltip.background};
        border-right: none;
        right: -8px;
        left: unset;
        top: 10px;
      }
    `}
`;var Mn=pt.span`
  display: none;
`;var ct=({show:e=true,reverse:t,position:r,children:n})=>{const o=$n(null);const{config:i}=s();const{measurements:m}=i;const d=typeof n==="string"?n:"";const p=r.x+m.advancedUIToolbar.width-10;const u=r.x+m.advancedUIToolbar.width+16;const g=t?"right":"left";const C={entering:{opacity:0,[g]:`${p}px`},entered:{opacity:1,[g]:`${u}px`},exiting:{opacity:0,[g]:`${p}px`},exited:{opacity:0,[g]:`${p}px`}};return ke.createElement(co,{nodeRef:o,in:e,timeout:{exit:500}},h=>h!=="exited"&&ke.createElement(tt,null,ke.createElement(Hn,{ref:o,style:C[h],"data-test":S.Tooltip,reverse:t,position:r,label:d},ke.createElement(Mn,null,d))))};var l={Card:le,CardContainer:Ee,Toolbar:{Index:Go,Item:Vo,Separator:Xo,Tooltip:ct},Itemsbar:me,BarSeparator:"",ItemsSeparator:Ae,Controlsbar:$o,ToolControlBarItems:Wo,Sidebar:{Index:No,Heading:Mo,SubHeading:Be,TextCategory:Ho,ExpandableContainer:_o}};import I from"react";import Di from"styled-components";import ft from"react";import pe from"react";var Ue=class extends pe.Component{constructor(){super(...arguments);this.renderIcon=t=>{const{tool:r,config:n}=this.props;const o=n.state.config[r];if("icon"in o){const m=o.icon;return pe.createElement(m,null)}const i=Eo[t];return pe.createElement(i,null)||null};this.update=t=>{const{active:r}=this.props;r.selectTool(t)}}getToolTitle(t){const{config:r}=this.props;return r.locale[t].title}render(){const{tool:t,disabled:r,custom:n,active:o,isReverse:i}=this.props;const m=o.tool;if(t){const d=n.getAdvancedToolbarItem();if(!d){return null}return pe.createElement(d,{key:t,isDisabled:r,isActive:t===m,isReverse:i,icon:this.renderIcon(t),onClick:()=>this.update(t),tool:t,label:this.getToolTitle(t)})}return pe.createElement(l.Toolbar.Separator,null)}};Ue=ve([N("active","config","custom"),a],Ue);var ut=Ue;var fo=a(function e(){const{custom:t,config:r,active:n}=s();const o=r.config.order==="reverse";const i=t.getAdvancedToolbar();if(!i){return null}return ft.createElement(i,{reverse:o},r.tools.map((m,d)=>ft.createElement(ut,{key:m||d,tool:m,isReverse:o,disabled:!(n.image||m==="library"||m==="customTool")})))});import T from"react";import Fe from"react";import ce from"react";import R from"react";var Wn=a(()=>{const{adjustmentsTool:e,custom:t}=s();const{categories:r,items:n,config:o,locale:i}=e;const m=p=>{const u=e[p.identifier];const g=e.locale.categories[p.identifier]||p.name;const C=t.getSlider();if(!C){return null}return R.createElement(C,{tool:"adjustment",identifier:p.identifier,adjust:true,key:p.identifier,label:g,value:u,onChange:h=>{e.editAdjustments({type:p.identifier,value:h})},onMouseUp:()=>e.toolSnapshot(),onTouchEnd:()=>e.toolSnapshot(),snap:0,style:{paddingBottom:"16px",width:"100%"}})};const d=(p,u)=>{const g=i.categories[p.identifier]||p.name;if(!p.items)return null;return R.createElement(l.Sidebar.TextCategory,{key:p.identifier,name:g,isFirstCategory:u===0,isLastCategory:u===r.length-1},p.items.map(m))};if(o.flattenCategories)return R.createElement(R.Fragment,null,n.map(m));return R.createElement(R.Fragment,null,r.map(d))});var Ct=()=>{return R.createElement(l.Itemsbar,null,R.createElement(Wn,null))};import zn from"react";var ht=a(()=>{const{adjustmentsTool:e,custom:t}=s();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return zn.createElement(n,{tool:"adjustment",label:r.buttonReset,ariaLabel:r.buttonReset,isDisabled:!e.isDirty,onClick:o})});var bt=a(()=>{const{adjustmentsTool:e}=s();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case"items":return ce.createElement(Ct,{key:o});case"separator":return ce.createElement(l.ItemsSeparator,{full:true,key:y()});case"removeAdjustmentButton":return ce.createElement(ht,{key:o});default:return null}}else if(typeof o==="object"){return ce.createElement(l.Controlsbar,{key:o.type,show:e.isDirty},o.children.map(i=>n(i)))}return null};return ce.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var gt=a(({displayTitle:e})=>{const{adjustmentsTool:t}=s();return Fe.createElement(Fe.Fragment,null,e&&Fe.createElement(l.Sidebar.Heading,null,t.locale.title),Fe.createElement(bt,null))});import De from"react";import W from"react";import vt from"react";var St=a(()=>{const{brushTool:e}=s();const t=e.locale.controls;const r=e.localeColor.colorPicker;const{colorList:n}=e;return vt.createElement(f.Input.Selection,{label:t.selectColor},vt.createElement(F,{tool:"brush",activeColor:e.color,colors:n,labelsColor:r,onChange:e.changeColor}))});import Gn from"react";var Tt=a(()=>{const{brushTool:e,custom:t}=s();const r=e.locale.controls;const n=t.getSlider();if(!n){return null}return Gn.createElement(n,{tool:"brush","data-test":S.BrushHardness,label:r.sliderHardness,value:e.hardness,min:0,max:1,onChange:e.changeHardness})});import jn from"react";var It=a(()=>{const{brushTool:e,custom:t}=s();const r=e.locale.controls;const n=t.getSlider();if(!n){return null}return jn.createElement(n,{tool:"brush","data-test":S.BrushSize,label:r.sliderSize,value:e.relativeSize,min:1,max:100,divider:1,onChange:e.changeRelativeSize})});import Yn from"react";var yt=a(()=>{const{brushTool:e,custom:t}=s();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return Yn.createElement(n,{tool:"brush",label:r.buttonReset,ariaLabel:r.buttonReset,isDisabled:!e.isDirty,onClick:o})});var xt=a(()=>{const{brushTool:e}=s();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case"brushColorList":return W.createElement(St,{key:o});case"brushHardnessSlider":return W.createElement(Tt,{key:o});case"brushSizeSlider":return W.createElement(It,{key:o});case"separator":return W.createElement(l.ItemsSeparator,{full:true,key:y()});case"removeBrushButton":return W.createElement(yt,{key:o});default:return null}}else if(typeof o==="object"){return W.createElement(l.Controlsbar,{key:o.type,show:e.isDirty},o.children.map(i=>n(i)))}return null};return W.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var Vn=({brushTool:e,displayTitle:t})=>De.createElement(De.Fragment,null,t&&De.createElement(l.Sidebar.Heading,null,e.locale.title),De.createElement(xt,null));var Et=N("brushTool")(a(Vn));import Le from"react";var At=({displayTitle:e})=>{const{config:t}=s();const r=t.state.config["customTool"].toolControlBar;const{title:n}=t.state.locale["customTool"];return Le.createElement(Le.Fragment,null,e&&Le.createElement(l.Sidebar.Heading,null,n),Le.createElement(r,{language:t.state.locale["customTool"]}))};import we from"react";import Z from"react";import Xn from"react";var Bt=a(()=>{const{filterTool:e,custom:t}=s();const r=e.locale.controls;const n=e.state;const o=()=>{e.toolSnapshot()};const i=t.getSlider();if(!i){return null}return Xn.createElement(i,{tool:"filter","aria-hidden":!e.isOptionSelected,label:r.sliderIntensity,value:n.intensity,min:0,max:1,onChange:e.changeIntensity,onMouseUp:o,onTouchEnd:o,snap:n.isDuotone?.5:null,isDisabled:!e.isOptionSelected})});import k from"react";var Kn=a(()=>{const{filterTool:e,custom:t}=s();const{categories:r,config:n,items:o,locale:i}=e;const m=t.getAdvancedItemCard();const d=t.getAdvancedCategoryCard();const p=(C,h)=>{const c=i.items[C.identifier]||C.name;if(!m){return null}return k.createElement(m,{tool:"filter",type:"medium",onClick:()=>e.selectFilter(C.identifier,C.defaultIntensity),key:C.identifier,image:C.thumbnailURI,label:c,style:{animationDelay:`${B(h)}s`},isActive:e.identifier===C.identifier},k.createElement(x,{withBackground:true},c))};const u=(C,h)=>{const{selectedCategoryIdentifier:c}=e;const v=c===C.identifier;const E=i.categories[C.identifier]||C.name;if(!C.items||!d){return null}return k.createElement("div",{key:C.identifier},k.createElement(d,{isActive:v,tool:"filter",type:"large",onClick:()=>e.toggleCategorySelection(C.identifier),image:C.thumbnailURI,label:E,style:{animationDelay:`${B(h)}s`}},k.createElement(x,{withBackground:true,caret:true,isActive:v},E)),k.createElement(l.Sidebar.ExpandableContainer,{show:v},C.items.map(p)))};const g=(C,h)=>{const c=i.categories[C.identifier]||C.name;if(!C.items)return null;return k.createElement(l.Sidebar.TextCategory,{key:C.identifier,name:c,isFirstCategory:h===0,isLastCategory:h===r.length-1},C.items.map(p))};if(n.flattenCategories)return k.createElement(k.Fragment,null,o.map(p));if(n.categoryHeaderType==="card")return k.createElement(k.Fragment,null,r.map(u));if(n.categoryHeaderType==="text")return k.createElement(k.Fragment,null,r.map(g));return null});var Ot=()=>{return k.createElement(l.Itemsbar,null,k.createElement(l.CardContainer,null,k.createElement(Kn,null)))};import qn from"react";var kt=a(()=>{const{filterTool:e,custom:t}=s();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return qn.createElement(n,{tool:"filter",label:r.buttonReset,ariaLabel:r.buttonReset,isDisabled:!e.isOptionSelected,onClick:o})});var Ut=a(()=>{const{filterTool:e}=s();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case"items":return Z.createElement(Ot,{key:o});case"separator":return Z.createElement(l.ItemsSeparator,{full:true,key:y()});case"removeFilterButton":return Z.createElement(kt,{key:o});case"filterIntensitySlider":return Z.createElement(Bt,{key:o});default:return null}}else if(typeof o==="object"){return Z.createElement(l.Controlsbar,{key:o.type,show:e.isOptionSelected},o.children.map(i=>n(i)))}return null};return Z.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var Ft=a(({displayTitle:e})=>{const{filterTool:t}=s();return we.createElement(we.Fragment,null,e&&we.createElement(l.Sidebar.Heading,null,t.locale.title),we.createElement(Ut,null))});import Ne from"react";import ee from"react";import Jn from"react";var Dt=a(()=>{const{focusTool:e,custom:t}=s();const r=e.locale.controls;const n=()=>{e.toolSnapshot(r.sliderIntensity)};const o=t.getSlider();if(!o){return null}return Jn.createElement(o,{tool:"focus","aria-hidden":!e.isOptionSelected,label:r.sliderIntensity,value:e.relativeIntensity,min:0,max:100,divider:1,onChange:e.changeRelativeIntensity,onMouseUp:n,onTouchEnd:n,isDisabled:!e.isOptionSelected})});import z from"react";var Qn=a(()=>{const{focusTool:e,custom:t}=s();const{items:r}=e;const n=(o,i)=>{const m=e.locale.items[o.identifier]||o.name;const d=t.getAdvancedItemCard();if(!d){return null}return z.createElement(d,{tool:"focus",type:"large",onClick:()=>e.selectFocus(o.identifier),key:o.identifier,image:o.thumbnailURI,label:m,style:{animationDelay:`${B(i)}s`},isActive:o.identifier===e.identifier},z.createElement(x,{withBackground:true},m))};return z.createElement(z.Fragment,null,r.map(n))});var Lt=()=>{return z.createElement(l.Itemsbar,null,z.createElement(l.CardContainer,null,z.createElement(Qn,null)))};import Zn from"react";var wt=a(()=>{const{focusTool:e,custom:t}=s();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return Zn.createElement(n,{tool:"focus",label:r.buttonReset,ariaLabel:r.buttonReset,isDisabled:!e.isOptionSelected,onClick:o})});var Nt=a(()=>{const{focusTool:e}=s();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case"separator":return ee.createElement(l.ItemsSeparator,{full:true,key:y()});case"removeFocusButton":return ee.createElement(wt,{key:o});case"focusIntensitySlider":return ee.createElement(Dt,{key:o});case"items":return ee.createElement(Lt,{key:o});default:return null}}else if(typeof o==="object"){return ee.createElement(l.Controlsbar,{key:o.type,show:e.isOptionSelected},o.children.map(i=>n(i)))}return null};return ee.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var _t=a(({displayTitle:e})=>{const{focusTool:t}=s();return Ne.createElement(Ne.Fragment,null,e&&Ne.createElement(l.Sidebar.Heading,null,t.locale.title),Ne.createElement(Nt,null))});import Pe from"react";import $ from"react";import Pt from"react";var Rt=a(()=>{const{frameTool:e}=s();const t=e.locale.controls;const r=e.localeColor.colorPicker;const{colorList:n,tintable:o}=e;return Pt.createElement(f.Input.Selection,{isDisabled:!o,label:t.selectColor},Pt.createElement(F,{tool:"frame",activeColor:e.color,colors:n,labelsColor:r,isDisabled:!o,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))});import _e from"react";var $t=a(()=>{const{frameTool:e,custom:t}=s();const{items:r}=e;const n=e.state?e.state.identifier:null;const o=(i,m)=>{const d=e.locale.items[i.identifier]||i.name;const p=t.getAdvancedItemCard();if(!p){return null}return _e.createElement(p,{tool:"frame",type:"medium",onClick:()=>e.selectFrame(i.identifier),key:i.identifier,image:i.thumbnailURI,label:d,style:{backgroundSize:"75%",animationDelay:`${B(m)}s`},isActive:i.identifier===n},_e.createElement(x,{hidden:true},d))};return _e.createElement(l.Itemsbar,null,_e.createElement(l.CardContainer,null,r.map(o)))});import ei from"react";var Ht=a(()=>{const{frameTool:e,custom:t}=s();const r=e.locale.controls;const n=i=>{e.toolSnapshot(i)};const o=t.getSlider();if(!o){return null}return ei.createElement(o,{tool:"frame","aria-hidden":!e.isOptionSelected,label:r.sliderOpacity,value:e.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:()=>{n(r.sliderOpacity)},onTouchEnd:()=>{n(r.sliderOpacity)},isDisabled:!e.isOptionSelected})});import oi from"react";var Mt=a(()=>{const{frameTool:e,custom:t}=s();const r=e.locale.controls;const n=i=>{e.toolSnapshot(i)};const o=t.getSlider();if(!o){return null}return oi.createElement(o,{tool:"frame","aria-hidden":!e.isOptionSelected,label:r.sliderSize,value:e.size,min:e.minSize,max:e.maxSize,divider:1,onChange:e.changeWidth,onMouseUp:()=>{n(r.sliderSize)},onTouchEnd:()=>{n(r.sliderSize)},isDisabled:!e.isOptionSelected})});import ti from"react";var Wt=a(()=>{const{frameTool:e,custom:t}=s();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return ti.createElement(n,{tool:"frame",ariaLabel:r.buttonReset,onClick:o,isDisabled:!e.isOptionSelected,label:r.buttonReset})});var zt=a(()=>{const{frameTool:e}=s();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case"items":return $.createElement($t,{key:o});case"separator":return $.createElement(l.ItemsSeparator,{full:true,key:y()});case"frameOpacitySlider":return $.createElement(Ht,{key:o});case"frameSizeSlider":return $.createElement(Mt,{key:o});case"frameColorList":return $.createElement(Rt,{key:o});case"removeFrameButton":return $.createElement(Wt,{key:o});default:return null}}else if(typeof o==="object"){return $.createElement(l.Controlsbar,{key:o.type,show:e.isOptionSelected},o.children.map(i=>n(i)))}return null};return $.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var Gt=a(({displayTitle:e})=>{const{frameTool:t}=s();return Pe.createElement(Pe.Fragment,null,e&&Pe.createElement(l.Sidebar.Heading,null,t.locale.title),Pe.createElement(zt,null))});import Re from"react";import oe from"react";import A from"react";var ri=a(()=>{const{active:e,library:t,custom:r}=s();const{query:n,config:o,selectedCategoryIdentifier:i,categories:m,items:d}=t;const p=r.getAdvancedCategoryCard();const u=r.getAdvancedItemCard();const g=(c,v)=>{if(!u){return null}return A.createElement(u,{tool:"library",type:"medium",onClick:()=>e.newImage(c.rawUrl),key:`${c.identifier}-${v}`,image:c.thumbnailURI,label:c.name,style:{animationDelay:`${B(v)}s`},authorAvatar:c.authorAvatar,authorName:c.authorName},c.authorAvatar&&A.createElement(Ke,{url:c.authorAvatar}),c.authorName&&A.createElement(x,{withBackground:true},c.authorName))};const C=(c,v)=>{const E=i===c.identifier;if(!c.items||!p){return null}return A.createElement("div",{key:c.identifier},A.createElement(p,{isActive:E,tool:"library",type:"large",onClick:()=>t.toggleCategorySelection(c.identifier),image:c.thumbnailURI,label:c.name,style:{animationDelay:`${B(v)}s`}},A.createElement(x,{withBackground:true,caret:true,isActive:E},c.name)),A.createElement(l.Sidebar.ExpandableContainer,{show:E},c.items.map(g)))};const h=(c,v)=>{if(!c.items)return null;return A.createElement(l.Sidebar.TextCategory,{key:c.identifier,name:c.name,isFirstCategory:v===0,isLastCategory:v===m.length-1},c.items.map(g))};if(n)return d.length?A.createElement(A.Fragment,null,d.map(g)):A.createElement("p",{"data-test":S.NoResult},t.locale.controls.noResults);if(o.flattenCategories)return A.createElement(A.Fragment,null,d.map(g));if(o.categoryHeaderType==="card")return A.createElement(A.Fragment,null,m.map(C));if(o.categoryHeaderType==="text")return A.createElement(A.Fragment,null,m.map(h));return null});var jt=()=>{return A.createElement(l.Itemsbar,null,A.createElement(l.CardContainer,null,A.createElement(ri,null)))};import ni from"react";var Yt=a(()=>{const{library:e,active:t}=s();const{config:r}=e;const n=e.locale.controls;const o=()=>{t.selectWebcam(true)};if(r.enableWebcam){return ni.createElement(Uo,{tool:"library",onClick:o,label:n.buttonWebcamOpen})}return null});import ii from"react";var Vt=a(()=>{const{library:e}=s();const{libraryProvider:t}=e;const r=e.locale.controls;const n=o=>{e.fetchImages(o)};if(t){return ii.createElement(f.Input.Search,{onChange:n,placeholder:r.placeholderSearch})}return null});import Xt from"react";var Kt=a(()=>{const{library:e,active:t,custom:r}=s();const{config:n}=e;const o=e.locale.controls;const i=r.getButton("toolControlBarPrimaryButton");const m=p=>{const{files:u}=p.target;if(u.length){const g=new FileReader;g.onload=C=>{t.newImage(C.target.result)};g.readAsDataURL(u[0])}};const d=()=>{const p=document.getElementById("fileUpload");if(p){p.click()}};if(n.enableUpload){if(!i){return null}return Xt.createElement(i,{"data-test":S.LibraryUploadButton,tool:"library",ariaLabel:o.buttonUpload,onClick:d,label:o.buttonUpload},Xt.createElement(f.Input.File,{onChange:m}))}return null});var qt=a(()=>{const{library:e}=s();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{switch(o){case"items":return oe.createElement(jt,{key:o});case"openWebcamButton":return oe.createElement(Yt,{key:o});case"searchFieldInput":return oe.createElement(Vt,{key:o});case"separator":return oe.createElement(l.ItemsSeparator,{full:true,key:y()});case"uploadImageButton":return oe.createElement(Kt,{key:o});default:return null}};return oe.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var Jt=a(({displayTitle:e})=>{const{library:t}=s();return Re.createElement(Re.Fragment,null,e&&Re.createElement(l.Sidebar.Heading,null,t.locale.title),Re.createElement(qt,null))});import $e from"react";import j from"react";import si from"react";var Qt=a(()=>{const{overlayTool:e}=s();const{allBlendModes:t,blendMode:r}=e;const n=e.locale.controls;const o=i=>{e.changeBlendMode(i)};return si.createElement(f.Input.CarouselSlider,{label:n.carouselBlendMode,defaultIdentifier:r,onSelect:o,list:t})});import G from"react";var ai=a(()=>{const{overlayTool:e,custom:t}=s();const{items:r,locale:n,identifier:o,selectOverlay:i}=e;const m=(d,p)=>{const u=n.items[d.identifier]||d.name;const g=t.getAdvancedItemCard();if(!g){return null}return G.createElement(g,{tool:"overlay",type:"medium",onClick:()=>i(d.identifier),key:d.identifier,image:d.thumbnailURI,label:u,style:{animationDelay:`${B(p)}s`},isActive:d.identifier===o},G.createElement(x,{withBackground:true},u))};return G.createElement(G.Fragment,null,r.map(m))});var Zt=()=>{return G.createElement(l.Itemsbar,null,G.createElement(l.CardContainer,null,G.createElement(ai,null)))};import li from"react";var er=a(()=>{const{overlayTool:e,custom:t}=s();const r=e.locale.controls;const n=()=>{e.toolSnapshot()};const o=t.getSlider();if(!o){return null}return li.createElement(o,{tool:"overlay","aria-hidden":!e.isOptionSelected,label:r.sliderOpacity,value:e.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:n,onTouchEnd:n,isDisabled:!e.isOptionSelected})});import mi from"react";var or=a(()=>{const{overlayTool:e,custom:t}=s();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return mi.createElement(n,{tool:"overlay",label:r.buttonReset,ariaLabel:r.buttonReset,isDisabled:!e.isOptionSelected,onClick:o})});var tr=a(()=>{const{overlayTool:e}=s();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case"items":return j.createElement(Zt,{key:o});case"separator":return j.createElement(l.ItemsSeparator,{full:true,key:y()});case"overlayBlendModeCarousel":return j.createElement(Qt,{key:o});case"overlayOpacitySlider":return j.createElement(er,{key:o});case"removeOverlayButton":return j.createElement(or,{key:o});default:return null}}else if(typeof o==="object"){return j.createElement(l.Controlsbar,{key:o.type,show:e.isOptionSelected},o.children.map(i=>n(i)))}return null};return j.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var rr=a(({displayTitle:e})=>{const{overlayTool:t}=s();return $e.createElement($e.Fragment,null,e&&$e.createElement(l.Sidebar.Heading,null,t.locale.title),$e.createElement(tr,null))});import He from"react";import te from"react";import nr from"react";var ir=a(()=>{const{stickerTool:e}=s();const{colorList:t}=e;const r=e.locale.controls;const n=e.localeColor.colorPicker;const o=!e.isStickerSelected||!e.tintable&&e.isStickerSelected;return nr.createElement(f.Input.Selection,{isDisabled:o,label:r.selectColor},nr.createElement(F,{tool:"sticker",activeSprite:e.id,activeColor:e.tintColor,colors:t,labelsColor:n,isDisabled:o,onChange:e.changeTintColor,onAddSnapshot:e.tintColorSnapshot}))});import U from"react";var di=a(()=>{const{stickerTool:e,custom:t}=s();const{categories:r,selectedCategoryIdentifier:n,config:o,items:i,locale:m}=e;const d=t.getAdvancedCategoryCard();const p=t.getAdvancedItemCard();const u=(h,c)=>{const v=m.items[h.identifier]||h.name;if(!p){return null}return U.createElement(p,{key:h.identifier,tool:"sticker",type:"small",onClick:()=>e.add(h.identifier),image:h.thumbnailURI,label:v,style:{backgroundSize:"75%",animationDelay:`${Io(c)}s`}},U.createElement(x,{hidden:true},v))};const g=(h,c)=>{const v=n===h.identifier;const E=m.categories[h.identifier]||h.name;if(!h.items||!d){return null}return U.createElement("div",{key:h.identifier},U.createElement(d,{isActive:v,tool:"sticker",type:"large",onClick:()=>e.toggleCategorySelection(h.identifier),image:h.thumbnailURI,label:E,style:{animationDelay:`${B(c)}s`}},U.createElement(x,{withBackground:true,caret:true,isActive:v},E)),U.createElement(l.Sidebar.ExpandableContainer,{show:v,key:`${h.identifier}-items`},h.items.map(u)))};const C=(h,c)=>{const v=m.categories[h.identifier]||h.name;if(!h.items)return null;return U.createElement(l.Sidebar.TextCategory,{key:h.identifier,name:v,isFirstCategory:c===0,isLastCategory:c===r.length-1},h.items.map(u))};if(o.flattenCategories)return U.createElement(U.Fragment,null,i.map(u));if(o.categoryHeaderType==="card")return U.createElement(U.Fragment,null,r.map(g));if(o.categoryHeaderType==="text")return U.createElement(U.Fragment,null,r.map(C));return null});var sr=()=>{return U.createElement(l.Itemsbar,null,U.createElement(l.CardContainer,null,U.createElement(di,null)))};import pi from"react";var ar=a(()=>{const{stickerTool:e,custom:t}=s();const r=e.locale.controls;const n=()=>{e.toolSnapshot()};const o=t.getSlider();if(!o){return null}return pi.createElement(o,{tool:"sticker",isDisabled:!e.isStickerSelected,label:r.sliderOpacity,value:e.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:n,onTouchEnd:n})});import lr from"react";import ci from"styled-components";var ui=ci.input.attrs({type:"file",id:"fileUpload",accept:"image/*",multiple:true})`
  ${xo.VisuallyHidden}
`;var mr=a(()=>{const{stickerTool:e,custom:t}=s();const r=e.locale.controls;const n=t.getButton("toolControlBarPrimaryButton");const o=()=>{const m=document.getElementById("fileUpload");if(m){m.value=null;m.click()}};const i=m=>{const{files:d}=m.target;e.addFiles(d)};if(e.isCustomStickerEnabled){if(!n){return null}return lr.createElement(n,{tool:"sticker",ariaLabel:r.buttonUpload,onClick:o,label:r.buttonUpload},lr.createElement(ui,{onChange:i}))}return null});var dr=a(()=>{const{stickerTool:e}=s();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{switch(o){case"items":return te.createElement(sr,{key:o});case"separator":return te.createElement(l.ItemsSeparator,{full:true,key:y()});case"uploadStickerButton":return te.createElement(mr,{key:o});case"stickerColorList":return te.createElement(ir,{key:o});case"stickerOpacitySlider":return te.createElement(ar,{key:o});default:return null}};return te.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var pr=a(({displayTitle:e})=>{const{stickerTool:t}=s();return He.createElement(He.Fragment,null,e&&He.createElement(l.Sidebar.Heading,null,t.locale.title),He.createElement(dr,null))});import Me from"react";import L from"react";import Ii from"styled-components";import cr from"react";var ur=a(()=>{const{textTool:e}=s();const t=e.locale.controls;const r=e.localeColor.colorPicker;const{isTextSelected:n,backgroundColorList:o}=e;return cr.createElement(f.Input.Selection,{isDisabled:!n,label:t.selectBackgroundColor},cr.createElement(F,{tool:"text",activeSprite:e.id,activeColor:e.backgroundColor,colors:o,labelsColor:r,isDisabled:!n,onChange:e.changeBackgroundColor,onAddSnapshot:e.backgroundColorSnapshot}))});import fi from"react";var fr=a(()=>{const{textTool:e}=s();const t=e.locale.controls;const{fontFamily:r,fontStyle:n,fontWeight:o,fontFamilies:i,isTextSelected:m}=e;const d=i.map(u=>({label:`${u.fontFamily} ${Bo.getDisplayFontStyle(u)}`,fontWeight:u.fontWeight,fontStyle:u.fontStyle,fontFamily:u.fontFamily,value:u.identifier}));const p=d.filter(({value:u})=>u===e.identifier)[0];return fi.createElement(f.Input.Dropdown,{isDisabled:!m,style:{fontFamily:r,fontStyle:n,fontWeight:o},itemStyle:u=>({fontFamily:u.fontFamily,fontStyle:u.fontStyle,fontWeight:u.fontWeight}),label:t.dropdownFontFamily,list:d,onSelect:e.changeFont,selectedItem:p.label})});import Ci from"react";import hi from"styled-components";var bi=hi(f.Input.NumericInput)`
  max-width: 50%;
  margin-right: 16px;
`;var Cr=a(()=>{const{textTool:e}=s();const t=e.locale.controls;const{isTextSelected:r}=e;const n=o=>{const i=o?parseFloat(o):0;e.setFontSize(Math.max(10,Math.min(690,i)))};return Ci.createElement(bi,{value:e.fontSize.toFixed(0),onSubmit:n,label:t.textFontSize,isDisabled:!r})});import gi from"react";var hr=a(()=>{const{textTool:e,custom:t}=s();const r=e.locale.controls;const{isTextSelected:n}=e;const o=()=>{e.toolSnapshot()};const i=t.getSlider();if(!i){return null}return gi.createElement(i,{tool:"text",isDisabled:!n,label:r.sliderLineSpacing,value:e.lineHeight,min:.5,max:3,onChange:e.changeLineHeight,onMouseUp:o,onTouchEnd:o,snap:1,divider:1,decimal:1})});import vi from"react";var br=a(()=>{const{textTool:e,custom:t}=s();const r=e.locale.controls;const n=()=>{e.add()};const o=t.getButton("toolControlBarPrimaryButton");if(!o){return null}return vi.createElement(o,{tool:"text",ariaLabel:r.buttonNew,onClick:n,label:r.buttonNew})});import ho from"react";import Si from"styled-components";var Ti=Si(f.Input.Selection)`
  width: 50%;
`;var gr=a(()=>{const{textTool:e,custom:t}=s();const r=e.locale.controls;const{isTextSelected:n,alignment:o}=e;const i=["left","center","right"];const m=t.getButton("textAlignment");return ho.createElement(Ti,{isDisabled:!n,inline:true,label:r.selectAlignment,"data-test":S.TextAlignment},i.map(d=>{const p=Ao[d];return ho.createElement(m,{tool:d,isDisabled:!n,ariaLabel:`Align ${d}`,isActive:d===o,key:d,style:{padding:"1px 3px 2px"},icon:ho.createElement(p,null),onClick:()=>e.changeAlignment(d)})}))});import vr from"react";var Sr=a(()=>{const{textTool:e}=s();const t=e.locale.controls;const r=e.localeColor.colorPicker;const{isTextSelected:n,colorList:o}=e;return vr.createElement(f.Input.Selection,{isDisabled:!n,label:t.selectFontColor},vr.createElement(F,{tool:"text",activeSprite:e.id,activeColor:e.textColor,colors:o,labelsColor:r,isDisabled:!n,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))});var yi=Ii.div`
  display: flex;
  justify-content: space-between;
`;var xi=({textTool:e})=>{const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case"newTextButton":return L.createElement(br,{key:o});case"fontFamilyDropdown":return L.createElement(fr,{key:o});case"separator":return L.createElement(l.ItemsSeparator,{full:true,key:y()});case"textColorList":return L.createElement(Sr,{key:o});case"backgroundColorList":return L.createElement(ur,{key:o});case"lineSpacingSlider":return L.createElement(hr,{key:o});case"textAlignmentList":return L.createElement(gr,{key:o});case"fontSizeInput":return L.createElement(Cr,{key:o});default:return null}}else if(typeof o==="object"){return L.createElement(yi,{key:o.type},o.children.map(i=>n(i)))}return null};return L.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))};var Tr=N("textTool")(a(xi));var Ir=a(({displayTitle:e})=>{const{textTool:t}=s();return Me.createElement(Me.Fragment,null,e&&Me.createElement(l.Sidebar.Heading,null,t.locale.title),Me.createElement(Tr,null))});import We from"react";import re from"react";import Ei from"react";var yr=a(()=>{const{textDesignTool:e,custom:t}=s();const r=e.locale.controls;const n=t.getButton("toolControlBarPrimaryButton");const o=()=>{e.add()};if(!n){return null}return Ei.createElement(n,{tool:"textdesign",ariaLabel:r.buttonNew,onClick:o,label:r.buttonNew})});import Ai from"react";var xr=a(()=>{const{textDesignTool:e,custom:t}=s();const r=e.locale.controls;const{isTextDesignSelected:n}=e;const o=t.getButton("toolControlBarSecondaryButton");const i=()=>{e.changeSeed()};if(!o){return null}return Ai.createElement(o,{tool:"textdesign",ariaLabel:r.buttonShuffle,isDisabled:!n,onClick:i,label:r.buttonShuffle})});import Er from"react";var Ar=a(()=>{const{textDesignTool:e}=s();const t=e.locale.controls;const r=e.localeColor.colorPicker;const{isTextDesignSelected:n,colorList:o}=e;return Er.createElement(f.Input.Selection,{isDisabled:!n,label:t.selectColor},Er.createElement(F,{tool:"textdesign",activeSprite:e.id,activeColor:e.color,colors:o,labelsColor:r,isDisabled:!n,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))});import Y from"react";var Bi=a(()=>{const{textDesignTool:e,custom:t}=s();const{items:r,identifier:n}=e;const o=m=>{e.changeIdentifier(m)};const i=(m,d)=>{const p=t.getAdvancedItemCard();if(!p){return null}return Y.createElement(p,{key:m.identifier,tool:"textdesign",type:"medium",onClick:()=>o(m.identifier),image:m.thumbnailURI,label:m.name||"",style:{animationDelay:`${B(d)}s`,backgroundSize:"60%"},isDisabled:!e.isTextDesignSelected,isActive:n===m.identifier},Y.createElement(x,{hidden:true},m.name))};return Y.createElement(Y.Fragment,null,r.map(i))});var Br=()=>{return Y.createElement(l.Itemsbar,null,Y.createElement(l.CardContainer,null,Y.createElement(Bi,null)))};var Or=a(()=>{const{textDesignTool:e}=s();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{switch(o){case"items":return re.createElement(Br,{key:o});case"separator":return re.createElement(l.ItemsSeparator,{full:true,key:y()});case"newTextDesignButton":return re.createElement(yr,{key:o});case"shuffleLayoutButton":return re.createElement(xr,{key:o});case"textDesignColorList":return re.createElement(Ar,{key:o});default:return null}};return re.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var kr=a(({displayTitle:e})=>{const{textDesignTool:t}=s();return We.createElement(We.Fragment,null,e&&We.createElement(l.Sidebar.Heading,null,t.locale.title),We.createElement(Or,null))});import ze from"react";import ne from"react";import Oi from"react";var Ur=a(()=>{const{transformTool:e}=s();const t=e.locale.controls;const{forceDimensions:r,localOutputHeight:n,localOutputWidth:o}=e;return Oi.createElement(ko,{isDisabled:r,showLabel:true,valueHeight:n,valueWidth:o,onSubmitWidth:e.onPixelWidth,onSubmitHeight:e.onPixelHeight,label:t.inputCropSize,labelHeight:t.inputHeight,labelWidth:t.inputWidth})});import ki from"react";var Fr=a(()=>{const{transformTool:e,custom:t}=s();const r=e.locale.controls;const{forceDimensions:n,lockResolution:o}=e;const i=t.getCheckbox();if(!i){return null}return ki.createElement(i,{tool:"transform",isDisabled:n,value:o,label:r.checkboxKeepResolution,checkMarkPosition:"right",onClick:e.changeLockResolution,style:{paddingTop:"5px",justifyContent:"space-between"}})});import Ui from"react";var Dr=a(()=>{const{transformTool:e,custom:t}=s();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return Ui.createElement(n,{tool:"transform",ariaLabel:r.buttonReset,onClick:o,label:r.buttonReset})});import O from"react";import{renderToStaticMarkup as Lr}from"react-dom/server";var Fi=a(()=>{const{transformTool:e,custom:t,editor:r}=s();const{categories:n,items:o,identifier:i,config:m,locale:d}=e;const p=t.getAdvancedItemCard();const u=t.getAdvancedCategoryCard();const g=(c,v)=>{const{theme:E,measurements:V}=r.configStore;const X=d.items[c.identifier]||c.name;let ie=c.thumbnailURI||"";let K="80%";if(!e.checkIfTransformThumbnailExits(c.thumbnailURI)){const se=c.identifier.includes("imgly_transform_common");const he=ae.crops[c.identifier]||ae.crops.imgly_transform_common_custom;const be=O.createElement(he,{width:V.advancedUICard.medium.width-(se?42:0),height:V.advancedUICard.medium.height-(se?42:0),main:E.transform.crops.main,highlight:E.transform.crops.highlight,shadow:E.transform.crops.shadow});ie=`'data:image/svg+xml,${encodeURIComponent(Lr(be))}'`;K=D()||Se()?"auto":"unset"}if(!p){return null}return O.createElement(p,{key:c.identifier,tool:"transform",type:"medium",onClick:()=>e.changeIdentifier(c.identifier,true),image:ie,label:X,style:{backgroundSize:K,animationDelay:`${B(v)}s`},isActive:c.identifier===i},O.createElement(x,null,X))};const C=(c,v)=>{const{theme:E,measurements:V}=r.configStore;const X=e.selectedCategoryIdentifier===c.identifier;const ie=d.categories[c.identifier]||c.name;let K=c.thumbnailURI||"";if(!c.items||!u){return null}if(!e.checkIfTransformThumbnailExits(c.thumbnailURI)){const se=ae.categories[c.identifier]||ae.crops.imgly_transform_common_custom;const he=O.createElement(se,{width:V.advancedUICard.large.width-42,height:V.advancedUICard.large.height-42,main:E.transform.crops.main,highlight:E.transform.crops.highlight,shadow:E.transform.crops.shadow});K=`'data:image/svg+xml,${encodeURIComponent(Lr(he))}'`}return O.createElement("div",{key:c.identifier},O.createElement(u,{type:"large",onClick:()=>e.toggleCategorySelection(c.identifier),key:c.identifier,image:K,style:{animationDelay:`${B(v)}s`},label:c.name,tool:"transform"},O.createElement(x,{caret:true,isActive:X},ie)),O.createElement(l.Sidebar.ExpandableContainer,{show:X},c.items.map(g)))};const h=(c,v)=>{const E=d.categories[c.identifier]||c.name;if(!c.items)return null;return O.createElement(l.Sidebar.TextCategory,{key:c.identifier,name:E,isFirstCategory:v===0,isLastCategory:v===n.length-1},c.items.map(g))};if(m.flattenCategories)return O.createElement(O.Fragment,null,o.map(g));if(m.categoryHeaderType==="card")return O.createElement(O.Fragment,null,n.map(C));if(m.categoryHeaderType==="text")return O.createElement(O.Fragment,null,n.map(h));return null});var wr=()=>{return O.createElement(l.Itemsbar,null,O.createElement(l.CardContainer,null,O.createElement(Fi,null)))};var Nr=a(()=>{const{transformTool:e}=s();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{switch(o){case"items":return ne.createElement(wr,{key:o});case"separator":return ne.createElement(l.ItemsSeparator,{full:true,key:y()});case"resetTransformButton":return ne.createElement(Dr,{key:o});case"keepResolutionCheckbox":return ne.createElement(Fr,{key:o});case"cropSizeInput":return ne.createElement(Ur,{key:o});default:return null}};return ne.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var _r=a(({displayTitle:e})=>{const{transformTool:t}=s();return ze.createElement(ze.Fragment,null,e&&ze.createElement(l.Sidebar.Heading,null,t.locale.title),ze.createElement(Nr,null))});var bo=a(function e(){const{active:t,config:r,custom:n}=s();const o=t.tool;const i=r.config.displayToolControlBarTitle;const m=n.getAdvancedToolControlBar();if(!m){return null}return T.createElement(m,{reverse:r.config.order==="reverse",tool:o},T.createElement(f.Switch.Index,{type:o},T.createElement(f.Switch.Case,{value:"library"},T.createElement(Jt,{displayTitle:i})),T.createElement(f.Switch.Case,{value:"filter"},T.createElement(Ft,{displayTitle:i})),T.createElement(f.Switch.Case,{value:"focus"},T.createElement(_t,{displayTitle:i})),T.createElement(f.Switch.Case,{value:"adjustment"},T.createElement(gt,{displayTitle:i})),T.createElement(f.Switch.Case,{value:"overlay"},T.createElement(rr,{displayTitle:i})),T.createElement(f.Switch.Case,{value:"sticker"},T.createElement(pr,{displayTitle:i})),T.createElement(f.Switch.Case,{value:"text"},T.createElement(Ir,{displayTitle:i})),T.createElement(f.Switch.Case,{value:"textdesign"},T.createElement(kr,{displayTitle:i})),T.createElement(f.Switch.Case,{value:"frame"},T.createElement(Gt,{displayTitle:i})),T.createElement(f.Switch.Case,{value:"brush"},T.createElement(Et,{displayTitle:i})),T.createElement(f.Switch.Case,{value:"transform"},T.createElement(_r,{displayTitle:i})),T.createElement(f.Switch.Case,{value:"customTool"},T.createElement(At,{displayTitle:i}))))});var Pr=Di.div`
  position: absolute;
  height: 100%;
  width: ${e=>e.theme.measurements.advancedUIToolbar.width+e.theme.measurements.advancedUIToolControlBar.width}px;
  top: 0;
  background: ${e=>e.theme.webcam.backdrop};
  z-index: ${e=>e.theme.measurements.zIndex.disable};
`;var ue=class extends I.Component{static getDerivedStateFromError(t){console.error(t);return{hasError:true}}render(){const{config:t,active:r,canvas:n,custom:o}=this.props;const i=o.getWindowContainer();return t.isOrderDefault?I.createElement(f.Container,null,r.isWebcam?I.createElement(Pr,{style:{left:0}}):null,I.createElement(Ze,null),I.createElement(fo,null),I.createElement(bo,null),I.createElement(qe,null,I.createElement(Je,null),i&&I.createElement(i,{tool:r.tool},I.createElement(oo,null,r.isWebcam?I.createElement(eo,null):null,r.image&&n&&I.createElement(Qe,null))))):I.createElement(f.Container,null,r.isWebcam?I.createElement(Pr,{style:{right:0}}):null,I.createElement(Ze,null),I.createElement(qe,null,I.createElement(Je,null),i&&I.createElement(i,{tool:r.tool},I.createElement(oo,null,r.isWebcam?I.createElement(eo,null):null,r.image&&n&&I.createElement(Qe,null)))),I.createElement(bo,null),I.createElement(fo,null))}};ue=ve([N("config","active","canvas","custom"),a],ue);import fe from"react";import Li from"styled-components";var Rr=class extends fe.Component{constructor(t){super(t);this.ref=null;this.updatePosition=()=>{const{isReverse:t}=this.props;const r={x:0,y:0};if(this.ref.current){const{top:n,height:o,left:i,right:m}=this.ref.current.getBoundingClientRect();r.y=n+o/4;r.x=t?window.innerWidth-m:i}this.setState({tooltipPosition:r})};this.mouseOver=t=>{this.updatePosition();this.setState({hoverTool:t})};this.mouseOut=()=>{this.setState({hoverTool:null})};this.state={hoverTool:null,tooltipPosition:{x:0,y:0}};this.ref=fe.createRef()}componentDidMount(){this.updatePosition()}componentDidUpdate(t){const{isReverse:r}=this.props;if(r!==t.isReverse){this.updatePosition()}}render(){const{tool:t,isActive:r,isReverse:n,isDisabled:o,icon:i,label:m,onClick:d,className:p,children:u}=this.props;const{hoverTool:g,tooltipPosition:C}=this.state;return fe.createElement(wi,{ref:this.ref,onMouseOver:()=>this.mouseOver(t),onMouseOut:()=>this.mouseOut(),onFocus:()=>this.mouseOver(t),onBlur:()=>this.mouseOut(),className:p},fe.createElement(l.Toolbar.Item,{ariaLabel:m,isActive:r,isDisabled:o,onClick:()=>d(t)},i,u),fe.createElement(l.Toolbar.Tooltip,{position:C,reverse:n,show:g===t},m))}};var Ge=Rr;var wi=Li.div`
  position: relative;
`;var Ye=class extends je.Component{constructor(){super(...arguments);this.componentWillUnmount=()=>{this.editor.cleanUpCanvasMemory()}}componentDidMount(){const{editor:t,storeProps:r}=this.props;this.editor=t;this.storeProps=r;const n=new Oo(this.editor.configStore.config.custom.components,{advancedUICategoryCard:l.Card,advancedUIItemCard:l.Card,advancedUIToolbarItem:Ge,advancedUIToolbar:l.Toolbar.Index,advancedUIToolControlBar:l.Sidebar.Index});const o={getAdvancedCategoryCard:n.getAdvancedCategoryCard,getAdvancedItemCard:n.getAdvancedItemCard,getAdvancedToolbarItem:n.getAdvancedToolbarItem,getAdvancedToolbar:n.getAdvancedToolbar,getAdvancedToolControlBar:n.getAdvancedToolControlBar,getDialog:n.getDialog,getButton:n.getButton,getColorItem:n.getColorItem,getCheckbox:n.getCheckbox,getWindowContainer:n.getWindowContainer,getSlider:n.getSlider};this.storeProps.custom=o;this.forceUpdate()}render(){return this.storeProps?je.createElement(To,{...this.storeProps},je.createElement(Ni,{theme:{...this.editor.configStore.theme,measurements:this.editor.configStore.measurements}},je.createElement(ue,null))):null}};import $r,{useEffect as Mi}from"react";import Hr from"react-dom";import Ce,{Suspense as _i,useMemo as Pi}from"react";var Ri=Ce.lazy(()=>import("./basic-ZAHZIZD4.js"));var $i=e=>{return{filterTool:e.filterToolStore,focusTool:e.focusToolStore,adjustmentsTool:e.adjustmentsToolStore,overlayTool:e.overlayToolStore,frameTool:e.frameToolStore,brushTool:e.brushToolStore,transformTool:e.transformToolStore,scale:e.scale,sprite:e.spriteStore,stickerTool:e.spriteStore.stickerToolStore,textTool:e.spriteStore.textToolStore,textDesignTool:e.spriteStore.textDesignToolStore,library:e.libraryStore,modal:e.modalStore,snapping:e.snappingStore,config:e.configStore,active:e.activeStore,canvas:e.canvasStore,history:e.historyStore,editor:e}};var Ve=({editor:e})=>{const t=Pi(()=>{return $i(e)},[e]);if(e.configStore.config.layout==="basic"){return Ce.createElement(_i,{fallback:Ce.createElement("div",null)},Ce.createElement(Ri,{editor:e,storeProps:t}))}return Ce.createElement(Ye,{editor:e,storeProps:t})};var Mr=class extends Te{constructor(t,r,n){super();this.dispose=()=>{if(this.container){Hr.unmountComponentAtNode(this.container);this.removeAllListeners("export");this.removeAllListeners("historyUndo");this.removeAllListeners("historyRedo");this.removeAllListeners("historyChange");this.removeAllListeners("editorReady");this.removeAllListeners("errorImageLoading");this.removeAllListeners("imageLoad");this.removeAllListeners("toolEnter");this.removeAllListeners("stickerUploadAdd");this.removeAllListeners("errorWebGLContextLost");this.removeAllListeners("cropDimensionsChange");if(this.editor){this.editor.dispose()}}};this.serialize=t=>{return this.editor.serialize(t)};this.deserialize=t=>{return this.editor.deserialize(t)};this.export=t=>{return this.editor.export(t)};this.close=()=>{return this.editor.close()};this.setImage=t=>{return this.editor.setImage(t,true)};this.getImageDimensions=()=>{return this.editor.getImageDimensions()};this.getImageMimeType=()=>{return this.editor.getImageMimeType()};this.reset=()=>{this.editor.resetToolStates();this.editor.resize()};this.container=r;const o={["export"]:i=>{this.emit("export",i)},["close"]:()=>{this.emit("close");this.dispose()},["historyUndo"]:()=>{this.emit("historyUndo")},["historyRedo"]:()=>{this.emit("historyRedo")},["historyChange"]:()=>{this.emit("historyChange")},["stickerUploadAdd"]:i=>{this.emit("stickerUploadAdd",i)},["cropDimensionsChange"]:i=>{this.emit("cropDimensionsChange",i)}};if(n){Object.entries(n).forEach(([i,m])=>{o[i]=m(this)})}this.editor=new ye({...t},o)}hasChanges(){return this.editor.hasChanges()}};var Wr=class{constructor(){this.container=null}init(t){return new Promise((r,n)=>{if(typeof window==="undefined"){r();return}this.container=typeof t.container==="string"?document.querySelector(t.container):t.container;if(this.container){this.editorApi=new Mr(t,this.container,{["editorReady"]:o=>()=>{setTimeout(()=>{o.emit("editorReady")},0);r(o)},["errorImageLoading"]:o=>i=>{setTimeout(()=>{o.emit("errorImageLoading",i)},0);r(o)},["errorWebGLContextLost"]:o=>i=>{setTimeout(()=>{o.emit("errorWebGLContextLost",i)},0);r(o)},["imageLoad"]:o=>()=>{setTimeout(()=>{o.emit("imageLoad")},0);r(o)},["toolEnter"]:o=>i=>{setTimeout(()=>{o.emit("toolEnter",i)},0);r(o)}});Hr.render($r.createElement(Wi,{editor:this.editorApi.editor}),this.container)}else{n(new Error("Provide a container"))}})}};var Wi=({editor:e})=>{Mi(()=>{return()=>{var t;if((t=e==null?void 0:e.configStore)==null?void 0:t.events){e.configStore.events.removeAllListeners("export");e.configStore.events.removeAllListeners("close");e.configStore.events.removeAllListeners("historyUndo");e.configStore.events.removeAllListeners("historyRedo");e.configStore.events.removeAllListeners("historyChange");e.configStore.events.removeAllListeners("editorReady");e.configStore.events.removeAllListeners("errorImageLoading");e.configStore.events.removeAllListeners("imageLoad");e.configStore.events.removeAllListeners("toolEnter");e.configStore.events.removeAllListeners("stickerUploadAdd");e.configStore.events.removeAllListeners("errorWebGLContextLost");e.configStore.events.removeAllListeners("cropDimensionsChange")}}},[]);return $r.createElement(Ve,{editor:e})};var zi={init:e=>{const t=new Wr;return t.init(e)}};import go from"react";var zr=class extends go.Component{constructor(t){super(t);this.ui=new Te;this.serialize=t=>{return this.editor.serialize(t)};this.deserialize=t=>{return this.editor.deserialize(t)};this.export=t=>{return this.editor.export(t)};this.close=()=>{return this.editor.close()};this.setImage=t=>{return this.editor.setImage(t,true)};this.getImageDimensions=()=>{return this.editor.getImageDimensions()};this.dispose=()=>{this.ui.removeAllListeners("export");this.ui.removeAllListeners("historyUndo");this.ui.removeAllListeners("historyRedo");this.ui.removeAllListeners("historyChange");this.ui.removeAllListeners("editorReady");this.ui.removeAllListeners("errorImageLoading");this.ui.removeAllListeners("imageLoad");this.ui.removeAllListeners("toolEnter");this.ui.removeAllListeners("stickerUploadAdd");this.ui.removeAllListeners("errorWebGLContextLost");this.ui.removeAllListeners("cropDimensionsChange");if(this.editor){this.editor.dispose()}};this.reset=()=>{this.editor.resetToolStates();this.editor.resize()};this.editor=new ye({...t},{["export"]:r=>{this.ui.emit("export",r)},["close"]:()=>{this.componentWillUnmount();this.ui.emit("close")},["historyUndo"]:()=>{this.ui.emit("historyUndo")},["historyRedo"]:()=>{this.ui.emit("historyRedo")},["historyChange"]:()=>{this.ui.emit("historyChange")},["editorReady"]:()=>{this.ui.emit("editorReady")},["errorImageLoading"]:r=>{this.ui.emit("errorImageLoading",r)},["imageLoad"]:()=>{this.ui.emit("imageLoad")},["toolEnter"]:r=>{this.ui.emit("toolEnter",r)},["stickerUploadAdd"]:r=>{this.ui.emit("stickerUploadAdd",r)},["cropDimensionsChange"]:r=>{this.ui.emit("cropDimensionsChange",r)},["errorWebGLContextLost"]:()=>{this.ui.emit("errorWebGLContextLost")}})}componentWillUnmount(){this.dispose()}hasChanges(){return this.editor.hasChanges()}render(){return go.createElement(Ve,{editor:this.editor})}};var Gi=e=>{if(typeof window==="undefined"){return null}return go.createElement(zr,{...e})};var pS=()=>{const{active:e}=s();return e.newImage};var fS=()=>{const{active:e}=s();return e.image};var bS=()=>{const e=s();return e.config.isLayoutAdvanced};So({isolateGlobalState:true});var{Container:HS,Input:ji,ColorItem:MS,ColorItemBase:WS,ColorItemBackground:zS,ColorItemTiledBackground:GS,ColorItemActiveOverlay:jS,Dialog:YS,DialogBase:VS,DialogContainer:XS,DialogBackdrop:KS,DialogHeader:qS,DialogBody:JS,DialogFooter:QS,DialogSpinner:ZS}=f;var{Search:Yi,Label:eT,Checkbox:oT,CheckboxBase:tT,CheckboxInput:rT,CheckboxCheckMark:nT,Dropdown:iT,Slider:sT,SliderBase:aT,SliderContainer:lT,SliderInput:mT,SliderTrack:dT,SliderLabel:pT}=ji;var cT=le;var uT=le;var fT=Yi;var CT=l.Toolbar.Index;var hT=l.Sidebar.Index;var bT=l.Controlsbar;var gT=xe.Toolbar.Index;var vT=xe.Controlsbar;var ST=xe.Itemsbar;export{Ge as a,zi as b,Gi as c,pS as d,fS as e,bS as f,HS as g,MS as h,WS as i,zS as j,GS as k,jS as l,YS as m,VS as n,XS as o,KS as p,qS as q,JS as r,QS as s,ZS as t,eT as u,oT as v,tT as w,rT as x,nT as y,iT as z,sT as A,aT as B,lT as C,mT as D,dT as E,pT as F,cT as G,uT as H,fT as I,CT as J,hT as K,bT as L,gT as M,vT as N,ST as O};
